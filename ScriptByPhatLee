-- Auto click Gift_Notification Accept with pet filter rules
local player = game.Players.LocalPlayer
local playerGui = player:WaitForChild("PlayerGui")

-- Hàm kiểm tra pet có đạt yêu cầu không
local function shouldAcceptPet(petName, kg, age)
    for _, rule in ipairs(petRules) do
        if string.find(string.lower(petName), string.lower(rule.keyword)) then
            if (not rule.minKg or kg >= rule.minKg) and (not rule.maxAge or age < rule.maxAge) then
                return true
            end
        end
    end
    return false
end

while task.wait(0.1) do
    local giftUI = playerGui:FindFirstChild("Gift_Notification", true)
    if giftUI then
        local petLabel = giftUI:FindFirstChildWhichIsA("TextLabel", true)
        if petLabel and petLabel.Text then
            -- Ví dụ text: "Capybara [13.92 KG] [Age 87]"
            local petName, kgStr, ageStr = string.match(petLabel.Text, "^(.-) %[(.-) KG%] %[Age (.-)%]$")
            local kg = tonumber(kgStr)
            local age = tonumber(ageStr)

            if petName and kg and age and shouldAcceptPet(petName, kg, age) then
                local acceptBtn = giftUI:FindFirstChild("Accept", true)
                if acceptBtn and acceptBtn.Visible and acceptBtn.Active then
                    firesignal(acceptBtn.MouseButton1Click)
                    print("[AutoAccept] Accepted:", petName, kg.."KG", "Age "..age)
                end
            end
        end
    end
end
